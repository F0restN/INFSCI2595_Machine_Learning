"0","summarize_lm_pred_from_laplace <- function(mvn_result, Xtest, num_samples)"
"0","{"
"0","  # generate posterior samples of the beta parameters"
"0","  post <- generate_lm_post_samples(mvn_result, ncol(Xtest), num_samples)"
"0","  "
"0","  # make posterior predictions on the test set"
"0","  pred_test <- make_post_lm_pred(Xtest, post)"
"0","  "
"0","  # calculate summary statistics on the predicted mean and response"
"0","  # summarize over the posterior samples"
"0","  "
"0","  # posterior mean, should you summarize along rows (rowMeans) or "
"0","  # summarize down columns (colMeans) ???"
"0","  mu_avg <- rowMeans(pred_test$Umat)"
"0","  y_avg <- rowMeans(pred_test$Ymat)"
"0","  "
"0","  # posterior quantiles for the middle 95% uncertainty intervals"
"0","  mu_lwr <- apply(pred_test$Umat, 1, stats::quantile, probs = 0.025)"
"0","  mu_upr <- apply(pred_test$Umat, 1, stats::quantile, probs = 0.975)"
"0","  y_lwr <- apply(pred_test$Ymat, 1, stats::quantile, probs = 0.025)"
"0","  y_upr <- apply(pred_test$Ymat, 1, stats::quantile, probs = 0.975)"
"0","  "
"0","  # book keeping"
"0","  tibble::tibble("
"0","    mu_avg = mu_avg,"
"0","    mu_lwr = mu_lwr,"
"0","    mu_upr = mu_upr,"
"0","    y_avg = y_avg,"
"0","    y_lwr = y_lwr,"
"0","    y_upr = y_upr"
"0","  ) %>% "
"0","    tibble::rowid_to_column(""pred_id"")"
"0","}"
